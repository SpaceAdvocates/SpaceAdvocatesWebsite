$box_shadow: 0px 1px 2px 0px $black;
$text_shadow: 1px 1px 3px $secondary_color;

.card {
	background-color: $card_color;
	background-size: cover;
	background-repeat: no-repeat;
	background-position: center;
	height: 100%;
	box-shadow: $box_shadow;
	z-index: 1;
	padding: 0em;
	display: block;

	&.featured {
		$drawer_height: 5.2em;

		height: -webkit-calc(100% - #{$drawer_height});
		height: -moz-calc(100% - #{$drawer_height});
		height: calc(100% - #{$drawer_height});

		& + .drawer {
			$drawer_width: 100%;
			$drawer_color: $blue;

			z-index: 0;
			padding: 0.4em;
			background-color: $drawer_color;
			box-shadow: $box_shadow;
			color: $white;
			text-shadow: $text_shadow;
			height: $drawer_height;

			h1 {
				color: inherit;
				margin: 0em 0em 0.2em 0em;
			}
			.meta {
				font-size: 0.5em;
			}
		}
	}
	h1 {
		margin: 0em;
		padding: 0.5em 0.5em 0.7em 0.5em;
		position: absolute;
		bottom: 0em;
		color: $white;
		width: 100%;
		background-color: rgba($red, 0.85);
		text-shadow: $text-shadow;
	}
	.comments-link {
		position: absolute;
		right: -0.5em;
		bottom: -1.2em;
		background-color: #fff;
		color: #000;
		padding: 0.5em;
		font-size: 0.7em;
	}
}

@media not #{$desktop} {
	.card {
		&.featured {
			$drawer_height: 4em;

			height: -webkit-calc(100% - #{$drawer_height});
			height: -moz-calc(100% - #{$drawer_height});
			height: calc(100% - #{$drawer_height});

			& + .drawer {
				height: $drawer_height;
			}
		}
	}
}