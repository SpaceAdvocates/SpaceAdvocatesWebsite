SA.pageFunctionsMap={"page-home":"Home","page-join":"Join","page-donate":"Donate","page-contact-us":"Contact","page-faq":"FAQ"},$(function(){!function(){for(var a=0,b=document.body.className.split(" ");a<b.length;a++)if(b[a]in this.pageFunctionsMap){var c=this.pageFunctionsMap[b[a]];(new this[c]).init()}}.apply(SA),$("[data-match-height]").each(function(){var a=$(this),b=a.find("[data-height-watch]"),c=b.map(function(){return a.height()}).get(),d=Math.max.apply(Math,c);b.css("min-height",d)})}),SA.Contact=function(){return this.$contactForm=$("#contact_form"),this.$name=$("#contact_name"),this.$email=$("#contact_email"),this.$subject=$("#contact_subject"),this.$message=$("#contact_message"),this.$submit=$(".submit"),this},SA.Contact.prototype.init=function(){this.bindSubmit()},SA.Contact.prototype.bindSubmit=function(){this.$submit.one("click",{contact:this},this.sendMessage)},SA.Contact.prototype.sendMessage=function(a){var b=a.data.contact,c={name:b.$name.val(),email:b.$email.val(),subject:b.$subject.val(),message:b.$message.val()};$.ajax({type:"post",dataType:"json",data:{email:c},context:b.$contactForm}).done(function(a){$(this).addClass("success").removeClass("alert").text(a.message)}).fail(function(a){var b=a.responseJSON.errors;$("label").removeClass("error");for(var c in b)$('label[for="'+b[c]+'"]').addClass("error")}).always(function(){b.bindSubmit()})},SA.Donate=function(){return this},SA.Donate.prototype.init=function(){},SA.FAQ=function(){return this.questions=Array.prototype.slice.call(document.querySelectorAll("#container > ul > li")),this.tableOfContents=document.getElementById("toc"),this},SA.FAQ.prototype.init=function(){this.questions.map(this.addToTableOfContents,this.tableOfContents)},SA.FAQ.prototype.addToTableOfContents=function(a){a=a.cloneNode(!0);var b=document.createElement("li");b.appendChild(a.firstChild),this.appendChild(b)},SA.Home=function(){return this},SA.Home.prototype.init=function(){$(".card + .drawer h1").dotdotdot({watch:"window"})},SA.Join=function(){return this},SA.Join.prototype.init=function(){this.bindSubmit()},SA.Join.prototype.bindSubmit=function(){$(".submit").one("click",this.subscribe)},SA.Join.prototype.subscribe=function(){var a=this;$.ajax({type:"post",dataType:"json",data:{email:$("#email").val()},context:$("#contact_form .label")}).done(function(a){$(this).addClass("success").removeClass("alert").text(a.message)}).fail(function(a){$(this).removeClass("success").addClass("alert").text(a.responseJSON.message)}).always(function(){a.bindSubmit()})};var Search=function(){return this.name="Joe",this};Search.prototype.getName=function(){return this.name};
/*
//@ sourceMappingURL=map/source-map-main.js.map
*/